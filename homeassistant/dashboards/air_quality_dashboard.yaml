# UTSensing Air Quality Dashboard with Comprehensive Gauge Visualization
#
# To use this dashboard:
# 1. Go to Settings > Dashboards > Create Dashboard (or Edit existing)
# 2. Name: "Air Quality Monitor"
# 3. Click the three dots > Edit Dashboard > Raw Configuration Editor
# 4. Paste this entire file content
# 5. Save
#
# This dashboard displays all sensors as gauges with color-coded severity levels.
# See GAUGES_REFERENCE.md for threshold documentation.

title: Air Quality Monitor
views:
  # =========================================================================
  # MAIN VIEW - Overview Dashboard with All Gauges
  # =========================================================================
  - title: Overview
    path: overview
    icon: mdi:home
    badges: []
    cards:
      # Header with timestamp
      - type: markdown
        content: |
          # üåç Air Quality Monitor
          **Last Update:** {{ now().strftime('%B %d, %Y at %H:%M:%S') }}
          **Status:** {% if states('sensor.air_quality_aqi') | int(0) <= 50 %}‚úÖ Excellent{% elif states('sensor.air_quality_aqi') | int(0) <= 100 %}‚úÖ Good{% elif states('sensor.air_quality_aqi') | int(0) <= 150 %}‚ö†Ô∏è Moderate{% elif states('sensor.air_quality_aqi') | int(0) <= 200 %}‚ö†Ô∏è Unhealthy{% else %}üö® Hazardous{% endif %}
        card_mod:
          style: |
            ha-card {
              background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
              color: white;
              padding: 20px;
              border-radius: 8px;
            }

      # =========================================================================
      # CRITICAL SENSORS - Large Gauge Display
      # =========================================================================
      - type: heading
        heading: Critical Air Quality Metrics

      # CO2 Gauge
      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.air_quality_co2
            name: CO‚ÇÇ Level
            min: 400
            max: 3000
            severity:
              green: 400
              yellow: 1000
              orange: 1500
              red: 2500
            needle: true
            unit: ppm

          # PM2.5 Gauge (using AQI)
          - type: gauge
            entity: sensor.air_quality_pm2_5
            name: PM2.5
            min: 0
            max: 300
            severity:
              green: 0
              yellow: 35
              orange: 100
              red: 150
            needle: true
            unit: Œºg/m¬≥

          # TVOC Gauge
          - type: gauge
            entity: sensor.air_quality_tvoc
            name: TVOC
            min: 0
            max: 2500
            severity:
              green: 0
              yellow: 220
              orange: 660
              red: 2200
            needle: true
            unit: ppb

      # =========================================================================
      # AIR QUALITY INDEX & STATUS
      # =========================================================================
      - type: heading
        heading: Air Quality Status

      - type: horizontal-stack
        cards:
          # Overall AQI Display
          - type: gauge
            entity: sensor.air_quality_aqi
            name: Overall AQI
            min: 0
            max: 500
            severity:
              green: 0
              yellow: 50
              orange: 100
              red: 150
            needle: true

          # CO2 Status
          - type: entity
            entity: sensor.air_quality_co2_status
            name: CO‚ÇÇ Assessment

          # H2S Status
          - type: entity
            entity: sensor.air_quality_h2s
            name: H‚ÇÇS Level

      # =========================================================================
      # GAS POLLUTANTS - Hazardous Gases
      # =========================================================================
      - type: heading
        heading: Hazardous Gases & Pollutants

      - type: horizontal-stack
        cards:
          # Ozone Gauge
          - type: gauge
            entity: sensor.air_quality_ozone
            name: Ozone
            min: 0
            max: 250
            severity:
              green: 0
              yellow: 50
              orange: 70
              red: 85
            needle: true
            unit: ppb

          # Carbon Monoxide Gauge
          - type: gauge
            entity: sensor.air_quality_co
            name: Carbon Monoxide
            min: 0
            max: 500
            severity:
              green: 0
              yellow: 9
              orange: 35
              red: 100
            needle: true
            unit: ppm

          # Nitrogen Dioxide Gauge
          - type: gauge
            entity: sensor.air_quality_no2
            name: NO‚ÇÇ
            min: 0
            max: 1.0
            severity:
              green: 0
              yellow: 0.053
              orange: 0.1
              red: 0.36
            needle: true
            unit: ppm

      # =========================================================================
      # PARTICULATE MATTER - All PM Sizes
      # =========================================================================
      - type: heading
        heading: Particulate Matter Analysis

      - type: horizontal-stack
        cards:
          # PM1.0 Gauge
          - type: gauge
            entity: sensor.air_quality_pm1
            name: PM1.0
            min: 0
            max: 100
            severity:
              green: 0
              yellow: 10
              orange: 30
              red: 50
            needle: true
            unit: Œºg/m¬≥

          # PM10 Gauge
          - type: gauge
            entity: sensor.air_quality_pm10
            name: PM10
            min: 0
            max: 500
            severity:
              green: 0
              yellow: 54
              orange: 154
              red: 254
            needle: true
            unit: Œºg/m¬≥

      # Particle Count Details
      - type: entities
        title: Particle Counts
        show_header_toggle: false
        entities:
          - entity: sensor.air_quality_particles_0_3um
            name: 0.3 Œºm Particles
          - entity: sensor.air_quality_particles_0_5um
            name: 0.5 Œºm Particles
          - entity: sensor.air_quality_particles_1um
            name: 1 Œºm Particles
          - entity: sensor.air_quality_particles_2_5um
            name: 2.5 Œºm Particles

      # =========================================================================
      # ENVIRONMENTAL CONDITIONS
      # =========================================================================
      - type: heading
        heading: Temperature, Humidity & Pressure

      - type: horizontal-stack
        cards:
          # Temperature Gauge
          - type: gauge
            entity: sensor.air_quality_temperature
            name: Temperature
            min: 5
            max: 35
            severity:
              green: 15
              yellow: 28
              orange: 35
            needle: true
            unit: ¬∞C

          # Humidity Gauge
          - type: gauge
            entity: sensor.air_quality_humidity
            name: Humidity
            min: 0
            max: 100
            severity:
              green: 20
              yellow: 80
              orange: 90
            needle: true
            unit: '%'

          # Pressure Gauge
          - type: gauge
            entity: sensor.air_quality_pressure
            name: Pressure
            min: 800
            max: 1100
            severity:
              green: 950
              yellow: 1050
              orange: 1100
            needle: true
            unit: hPa

      # Gas Resistance Display
      - type: entities
        title: Environmental Quality
        show_header_toggle: false
        entities:
          - entity: sensor.air_quality_temperature_bme680
            name: Temperature (BME680)
          - entity: sensor.air_quality_humidity_bme680
            name: Humidity (BME680)
          - entity: sensor.air_quality_gas_resistance
            name: Gas Resistance
          - entity: sensor.air_quality_eco2
            name: Equivalent CO‚ÇÇ

      # =========================================================================
      # VOC ANALYSIS
      # =========================================================================
      - type: heading
        heading: Volatile Organic Compounds

      - type: horizontal-stack
        cards:
          # Raw VOC from MGSV2
          - type: entity
            entity: sensor.air_quality_voc_mgsv2
            name: VOC Level

          # Ethanol levels
          - type: entity
            entity: sensor.air_quality_ethanol
            name: Ethanol Vapor

  # =========================================================================
  # TRENDS VIEW - 24/48/72 Hour History
  # =========================================================================
  - title: Trends
    path: trends
    icon: mdi:chart-line
    badges: []
    cards:
      - type: markdown
        content: |
          # üìà Air Quality Trends
          Historical data showing 72-hour patterns
        card_mod:
          style: |
            ha-card {
              background: linear-gradient(135deg, #0d3b66 0%, #1a5490 100%);
              color: white;
              padding: 15px;
              border-radius: 8px;
            }

      # CO2 Trend
      - type: history-graph
        title: CO‚ÇÇ Levels (72 Hours)
        hours_to_show: 72
        refresh_interval: 60
        entities:
          - entity: sensor.air_quality_co2
            name: CO‚ÇÇ (ppm)

      # PM2.5 Trend
      - type: history-graph
        title: Particulate Matter PM2.5 (72 Hours)
        hours_to_show: 72
        refresh_interval: 60
        entities:
          - entity: sensor.air_quality_pm2_5
            name: PM2.5 (Œºg/m¬≥)

      # PM10 Trend
      - type: history-graph
        title: Particulate Matter PM10 (72 Hours)
        hours_to_show: 72
        refresh_interval: 60
        entities:
          - entity: sensor.air_quality_pm10
            name: PM10 (Œºg/m¬≥)

      # Temperature & Humidity Trend
      - type: history-graph
        title: Temperature & Humidity (72 Hours)
        hours_to_show: 72
        refresh_interval: 60
        entities:
          - entity: sensor.air_quality_temperature
            name: Temperature (¬∞C)
          - entity: sensor.air_quality_humidity
            name: Humidity (%)

      # TVOC & Ozone Trend
      - type: history-graph
        title: VOC & Ozone (72 Hours)
        hours_to_show: 72
        refresh_interval: 60
        entities:
          - entity: sensor.air_quality_tvoc
            name: TVOC (ppb)
          - entity: sensor.air_quality_ozone
            name: Ozone (ppb)

      # Gas Levels Trend
      - type: history-graph
        title: Hazardous Gases (72 Hours)
        hours_to_show: 72
        refresh_interval: 60
        entities:
          - entity: sensor.air_quality_co
            name: CO (ppm)
          - entity: sensor.air_quality_no2
            name: NO‚ÇÇ (ppm)

  # =========================================================================
  # WEATHER STATIONS VIEW - WS3000 Data
  # =========================================================================
  - title: Weather Stations
    path: weather
    icon: mdi:weather-cloudy
    badges: []
    cards:
      - type: markdown
        content: |
          # üå°Ô∏è Weather Stations (WS3000)
          6 Remote weather sensor stations
        card_mod:
          style: |
            ha-card {
              background: linear-gradient(135deg, #2d5016 0%, #4a7c2c 100%);
              color: white;
              padding: 15px;
              border-radius: 8px;
            }

      # Station 1
      - type: heading
        heading: Station 1

      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.ws3000_sensor_1_temperature
            name: Temperature
            min: 0
            max: 50
            unit: ¬∞C
            needle: true

          - type: gauge
            entity: sensor.ws3000_sensor_1_humidity
            name: Humidity
            min: 0
            max: 100
            unit: '%'
            needle: true

      # Station 2
      - type: heading
        heading: Station 2

      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.ws3000_sensor_2_temperature
            name: Temperature
            min: 0
            max: 50
            unit: ¬∞C
            needle: true

          - type: gauge
            entity: sensor.ws3000_sensor_2_humidity
            name: Humidity
            min: 0
            max: 100
            unit: '%'
            needle: true

      # Station 3
      - type: heading
        heading: Station 3

      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.ws3000_sensor_3_temperature
            name: Temperature
            min: 0
            max: 50
            unit: ¬∞C
            needle: true

          - type: gauge
            entity: sensor.ws3000_sensor_3_humidity
            name: Humidity
            min: 0
            max: 100
            unit: '%'
            needle: true

      # Station 4
      - type: heading
        heading: Station 4

      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.ws3000_sensor_4_temperature
            name: Temperature
            min: 0
            max: 50
            unit: ¬∞C
            needle: true

          - type: gauge
            entity: sensor.ws3000_sensor_4_humidity
            name: Humidity
            min: 0
            max: 100
            unit: '%'
            needle: true

      # Station 5
      - type: heading
        heading: Station 5

      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.ws3000_sensor_5_temperature
            name: Temperature
            min: 0
            max: 50
            unit: ¬∞C
            needle: true

          - type: gauge
            entity: sensor.ws3000_sensor_5_humidity
            name: Humidity
            min: 0
            max: 100
            unit: '%'
            needle: true

      # Station 6
      - type: heading
        heading: Station 6

      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.ws3000_sensor_6_temperature
            name: Temperature
            min: 0
            max: 50
            unit: ¬∞C
            needle: true

          - type: gauge
            entity: sensor.ws3000_sensor_6_humidity
            name: Humidity
            min: 0
            max: 100
            unit: '%'
            needle: true
